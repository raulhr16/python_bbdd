CREATE TABLE EMPRESA
(CIF VARCHAR2(9) PRIMARY KEY CHECK (REGEXP_LIKE(CIF,'^[A-Za-z][0-9]{8}$')),
COD_PE VARCHAR2(10),
NOMBRE VARCHAR2(10) NOT NULL,
PROPIETARIO VARCHAR2(20)
);

CREATE TABLE CENTRALES
(COD_CENTRALES VARCHAR2(10) PRIMARY KEY CHECK (REGEXP_LIKE(COD_CENTRALES,'^[A-Za-z]@[0-9]{3}-[A-Z]$')),
CIF VARCHAR2(9),
FECHA_CE DATE,
UBICACION VARCHAR2(20) CHECK (UBICACION NOT IN 'MADRID'),
CAPACIDAD_MAX NUMBER(6) CHECK (CAPACIDAD_MAX>0),
CONSTRAINT CIF_FK FOREIGN KEY (CIF) REFERENCES EMPRESA(CIF),
CONSTRAINT UBI_AJENA UNIQUE(UBICACION)
);

CREATE TABLE HIDROELECTRICA
(COD_H VARCHAR2(10) PRIMARY KEY,
COD_CENTRALES VARCHAR2(10),
CONSTRAINT CENTH_FK FOREIGN KEY (COD_CENTRALES) REFERENCES CENTRALES(COD_CENTRALES)
);

CREATE TABLE SOLAR
(COD_S VARCHAR2(10) PRIMARY KEY,
COD_CENTRALES VARCHAR2(10),
TIPO_S VARCHAR2(15) NOT NULL CONSTRAINT TP_DOS CHECK (TIPO_S IN ('FOTOVOLTAICA','TERMODINAMICA')),
SUPERFICIE_TOTAL_PANALES NUMBER(10) CHECK (SUPERFICIE_TOTAL_PANALES>0),
MEDIA_H_SOL NUMBER(2) CHECK (MEDIA_H_SOL>=0),
CONSTRAINT CENTS_FK FOREIGN KEY (COD_CENTRALES) REFERENCES CENTRALES(COD_CENTRALES)
);

CREATE TABLE TERMICA
(COD_T VARCHAR2(10) PRIMARY KEY,
COD_CENTRALES VARCHAR2(10),
NUM_HORNOS NUMBER(5) CHECK (NUM_HORNOS>0),
VOLUMEN_CARBON_CONSUMIDO NUMBER(7) CHECK (VOLUMEN_CARBON_CONSUMIDO>=0),
CONSTRAINT CENTT_FK FOREIGN KEY (COD_CENTRALES) REFERENCES CENTRALES(COD_CENTRALES)
);

CREATE TABLE EOLICAS
(COD_EO VARCHAR2(10) PRIMARY KEY,
COD_CENTRALES VARCHAR2(10),
VELOCIDAD_MEDIA_VIENTO NUMBER(6) CHECK (VELOCIDAD_MEDIA_VIENTO>0),
CONSTRAINT CENTE_FK FOREIGN KEY (COD_CENTRALES) REFERENCES CENTRALES(COD_CENTRALES)
);

--INSERT para la tabla EMPRESA:
INSERT INTO EMPRESA VALUES ('A12345678', '01', 'Apple', 'Pepe');
INSERT INTO EMPRESA VALUES ('D12789012', '02', 'Samsung', 'Jose');
INSERT INTO EMPRESA VALUES ('G34345678', '03', 'Iberdrola', 'Raul');
INSERT INTO EMPRESA VALUES ('J54901234', '04', 'Renfe', 'Mario');
INSERT INTO EMPRESA VALUES ('M23567890', '05', 'Valme', 'Irene');
INSERT INTO EMPRESA VALUES ('F23567450', '04', 'Primark', 'Conchi');
INSERT INTO EMPRESA VALUES ('K25523840', '03', 'Repsol', 'Carlos');
INSERT INTO EMPRESA VALUES ('L23236850', '02', 'Motorola', 'Pablo');
INSERT INTO EMPRESA VALUES ('P24367320', '01', 'HP', 'Lucia');
INSERT INTO EMPRESA VALUES ('R22367890', '05', 'Petrobuya', 'Marina');
INSERT INTO EMPRESA VALUES ('P19293949','04','Mediamark','Eduardo');
INSERT INTO EMPRESA VALUES ('E12345678', '05', 'Hermes','Bellingham');

--INSERT para la tabla CENTRALES:
INSERT INTO CENTRALES VALUES ('A@123-Z', 'A12345678', TO_DATE('2021-10-21','YYYY-MM-DD'), 'BARCELONA', 500);
INSERT INTO CENTRALES VALUES ('B@245-S', 'D12789012', TO_DATE('2021-02-11','YYYY-MM-DD'), 'VALENCIA', 600);
INSERT INTO CENTRALES VALUES ('G@433-F', 'G34345678', TO_DATE('2021-12-21','YYYY-MM-DD'), 'MALAGA', 700);
INSERT INTO CENTRALES VALUES ('T@113-X', 'J54901234', TO_DATE('2021-04-11','YYYY-MM-DD'), 'SEVILLA', 550);
INSERT INTO CENTRALES VALUES ('U@183-U', 'M23567890', TO_DATE('2021-05-08','YYYY-MM-DD'), 'GRANADA', 480);
INSERT INTO CENTRALES VALUES ('F@123-Z', 'F23567450', TO_DATE('2021-01-21','YYYY-MM-DD'), 'ALMERIA', 300);
INSERT INTO CENTRALES VALUES ('Y@245-S', 'K25523840', TO_DATE('2021-05-11','YYYY-MM-DD'), 'CADIZ', 200);
INSERT INTO CENTRALES VALUES ('S@433-F', 'L23236850', TO_DATE('2021-11-21','YYYY-MM-DD'), 'CORDOBA', 730);
INSERT INTO CENTRALES VALUES ('O@323-G', 'P24367320', TO_DATE('2021-06-11','YYYY-MM-DD'), 'JAEN', 526);
INSERT INTO CENTRALES VALUES ('Z@183-S', 'R22367890', TO_DATE('2021-07-08','YYYY-MM-DD'), 'BILBAO', 800);
INSERT INTO CENTRALES VALUES ('G@183-S', 'M23567890', TO_DATE('2021-07-08','YYYY-MM-DD'), 'RIOJA', 600);
INSERT INTO CENTRALES VALUES ('E@111-A', 'E12345678', TO_DATE('2021-07-08','YYYY-MM-DD'), 'CACERES', 800);
INSERT INTO CENTRALES VALUES ('C@666-D','P19293949',TO_DATE('2021-02-08','YYYY-MM-DD'),'UTRERA',500);


--INSERT para la tabla HIDROELECTRICA:
INSERT INTO HIDROELECTRICA VALUES ('H1', 'A@123-Z');
INSERT INTO HIDROELECTRICA VALUES ('H2', 'B@245-S');
INSERT INTO HIDROELECTRICA VALUES ('H3', 'G@433-F');


--INSERT para la tabla SOLAR:
INSERT INTO SOLAR VALUES ('S4', 'T@113-X', 'TERMODINAMICA', 500, 3);
INSERT INTO SOLAR VALUES ('S5', 'U@183-U', 'FOTOVOLTAICA', 900, 7);

--INSERT para la tabla TERMICA:
INSERT INTO TERMICA VALUES ('T1', 'F@123-Z', 4, 1200);
INSERT INTO TERMICA VALUES ('T2', 'Y@245-S', 3, 1000);
INSERT INTO TERMICA VALUES ('T3', 'S@433-F', 5, 1500);
INSERT INTO TERMICA VALUES ('T4', 'O@323-G', 2, 800);
INSERT INTO TERMICA (COD_T, COD_CENTRALES) VALUES ('T6', 'C@666-D');

--INSERT para la tabla EOLICAS:
INSERT INTO EOLICAS VALUES ('EO1', 'Z@183-S', 15);
INSERT INTO EOLICAS VALUES ('EO2', 'G@183-S', 20);
INSERT INTO EOLICAS VALUES ('EO3', 'E@111-A', 18);